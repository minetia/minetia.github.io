<script>
    // 전역 엔진 상태 관리
    window.AI_ENGINE = {
        active: false,
        coin: "BTC",
        logs: [],
        
        // 엔진 시작/중지
        toggle: function(btnId, logId) {
            this.active = !this.active;
            const btn = document.getElementById(btnId);
            const logBox = document.getElementById(logId);
            
            if (this.active) {
                btn.style.background = "#ef4444";
                btn.innerText = "AI 엔진 중지";
                this.addLog(logId, "분석 엔진이 가동되었습니다. 패턴 스캔 중...");
            } else {
                btn.style.background = "#0ea5e9";
                btn.innerText = "AI 자동매매 가동";
                this.addLog(logId, "시스템을 일시 정지합니다.");
            }
        },

        // 로그 추가 로직
        addLog: function(targetId, msg) {
            const box = document.getElementById(targetId);
            if (!box) return;
            const time = new Date().toLocaleTimeString();
            const logEntry = `<div><span style="color:#0ea5e9">[${time}]</span> ${msg}</div>`;
            box.innerHTML = logEntry + box.innerHTML;
        }
    };
</script>
